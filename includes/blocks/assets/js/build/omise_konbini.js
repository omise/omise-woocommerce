(()=>{"use strict";const e=window.React,t=window.wp.element,n=window.wp.i18n,i=window.wp.htmlEntities,o=window.wc.wcBlocksRegistry,a=(0,window.wc.wcSettings.getSetting)("omise_konbini_data",{}),m=(0,i.decodeEntities)(a.title)||"No title set",s=o=>{const{eventRegistration:m,emitResponse:s}=o,{onPaymentSetup:l}=m,r=(0,i.decodeEntities)(a.description||""),[p,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(null),[_,w]=(0,t.useState)(null);return(0,t.useEffect)((()=>{const e=l((async()=>{if(!p||!u||!_)return{type:s.responseTypes.ERROR,message:"Name, email and phone fields are required"};try{return{type:s.responseTypes.SUCCESS,meta:{paymentMethodData:{omise_konbini_name:p,omise_konbini_email:u,omise_konbini_phone:_}}}}catch(e){return{type:s.responseTypes.ERROR,message:e.message}}}));return()=>e()}),[s.responseTypes.ERROR,s.responseTypes.SUCCESS,l,p,u,_]),(0,e.createElement)(e.Fragment,null,r&&(0,e.createElement)("p",null,r),(0,e.createElement)("fieldset",{id:"omise-form-konbini"},(0,e.createElement)("p",{className:"form-row form-row-wide omise-required-field"},(0,e.createElement)("label",{htmlFor:"omise_konbini_name"},(0,n.__)("Name","omise")),(0,e.createElement)("input",{id:"omise_konbini_name",className:"input-text",name:"omise_konbini_name",type:"text",maxLength:"10",autoComplete:"off",onChange:e=>{c(e.target.value)}})),(0,e.createElement)("p",{className:"form-row form-row-wide omise-required-field"},(0,e.createElement)("label",{htmlFor:"omise_konbini_email"},(0,n.__)("Email","omise")),(0,e.createElement)("input",{id:"omise_konbini_email",className:"input-text",name:"omise_konbini_email",type:"text",maxLength:"50",autoComplete:"off",onChange:e=>{d(e.target.value)}})),(0,e.createElement)("p",{className:"form-row form-row-wide omise-required-field"},(0,e.createElement)("label",{htmlFor:"omise_konbini_phone"},(0,n.__)("Phone","omise")),(0,e.createElement)("input",{id:"omise_konbini_phone",className:"input-text",name:"omise_konbini_phone",type:"text",maxLength:"11",autoComplete:"off",onChange:e=>{w(e.target.value)}}))))};(0,o.registerPaymentMethod)({name:a.name||"",label:(0,e.createElement)((t=>{const{PaymentMethodLabel:n}=t.components;return(0,e.createElement)(n,{text:m})}),null),content:(0,e.createElement)(s,null),edit:(0,e.createElement)(s,null),canMakePayment:()=>a.is_active,ariaLabel:m,supports:{features:a.supports}})})();