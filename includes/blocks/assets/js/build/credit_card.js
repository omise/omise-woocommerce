(()=>{"use strict";const e=window.React,t=window.wp.element,n=window.wp.i18n,r=window.wc.wcBlocksRegistry,o=window.wp.htmlEntities,c=(0,window.wc.wcSettings.getSetting)("omise_data",{}),a=(0,n.__)("Credit/Debit card","omise"),l=(0,o.decodeEntities)(c.title)||a;window.OMISE_CUSTOM_FONT_OTHER="Other";const m=t=>{const n=(0,o.decodeEntities)(c.description||"");return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",null,n),(0,e.createElement)(i,{...t}))},i=n=>{const[r,o]=(0,t.useState)(!1),[a,l]=(0,t.useState)(""),m=(0,t.useRef)(null),i=(document.querySelector(".wc-block-components-form").querySelector("#payment-method"),e=>{e.remember&&o(e.remember),l(e.token)}),s=e=>{console.error(e)};return(0,t.useEffect)((()=>{var e;showOmiseEmbeddedCardForm({element:m.current,publicKey:c.public_key,hideRememberCard:!c.user_logged_in,locale:c.lcoale,theme:null!==(e=c.card_form_theme)&&void 0!==e?e:"light",design:c.form_design,brandIcons:c.card_brand_icons,onSuccess:i,onError:s})}),[m.current]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{ref:m,id:"omise-card",style:{width:"100%"}}),(0,e.createElement)("input",{type:"hidden",name:"omise_save_customer_card",id:"omise_save_customer_card",value:r}),(0,e.createElement)("input",{type:"hidden",className:"omise_token",name:"omise_token",value:a}))};(0,r.registerPaymentMethod)({name:c.name,label:(0,e.createElement)((t=>{const{PaymentMethodLabel:n}=t.components;return(0,e.createElement)(n,{text:l})}),null),content:(0,e.createElement)(m,null),edit:(0,e.createElement)(m,null),canMakePayment:()=>!0,ariaLabel:l,supports:{features:c.supports}})})();